(this["webpackJsonpreact-rest-api"]=this["webpackJsonpreact-rest-api"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(16),i=c.n(r),j=(c(22),c(23),c(17)),d=c(4),a=c(2),o=c.n(a),u=c(0),b=function(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),s=c[0],r=c[1];Object(n.useEffect)((function(){o.a.get("/api/registrations/grades").then((function(e){r(e.data.grades)}))}),[]);var i=function(t){var c=t.target,n=c.name,s=c.value;o.a.patch("/api/registrations/update",{id:n,gradeid:s}).then((function(t){o.a.get("/api/registrations/".concat(e.student.regno)).then((function(t){e.setRegistrations(t.data)}))}))};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Code"}),Object(u.jsx)("th",{children:"Title"}),Object(u.jsx)("th",{children:"CrHr"}),Object(u.jsx)("th",{children:"Grade"}),Object(u.jsx)("th",{children:"GPA"})]})}),Object(u.jsx)("tbody",{children:e.regs.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.course.code}),Object(u.jsx)("td",{children:e.course.title}),Object(u.jsx)("td",{children:e.course.crhr}),Object(u.jsx)("td",{children:Object(u.jsxs)("select",{name:e._id,value:e.gradeid||"",onChange:i,children:[Object(u.jsx)("option",{hidden:!0,value:""}),0!==s.length&&s.map((function(e){return Object(u.jsx)("option",{value:e.gradeid,children:e.grade},e.gradeid)}))]})}),Object(u.jsx)("td",{children:null!==e.gradeid?e.grade.gpa:""})]},e._id)}))}),Object(u.jsx)("tfoot",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:e.gpa.toFixed(2)})]})})]}),Object(u.jsx)("div",{children:Object(u.jsx)("pre",{children:JSON.stringify({grades:s},null,2)})})]})},l=function(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(0),j=Object(d.a)(i,2),a=j[0],b=j[1];Object(n.useEffect)((function(){o.a.get("/api/courses/all").then((function(e){r(e.data),console.log(e.data)}))}),[]),Object(n.useEffect)((function(){b(e.semno)}),[e.semno]);return Object(u.jsx)("table",{children:Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Semester : "}),Object(u.jsx)("td",{children:Object(u.jsxs)("select",{name:"semester",value:a,onChange:function(t){b(Number(t.target.value)),e.getSemester(Number(t.target.value))},children:[Object(u.jsx)("option",{hidden:!0}),0!==s.length&&s.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))]})})]})})})},h=function(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),s=c[0],r=c[1],i=e.semester,j=e.courseids;Object(n.useEffect)((function(){o.a.get("/api/courses/".concat(i)).then((function(e){r(e.data)}))}),[i]);var a=function(t){var c=t.target,n=c.name,r=c.value,i=c.checked?s.map((function(e){return e.courseid})).filter((function(t){return!e.regs.includes(t)})):[];e.getCourseIds({name:n,value:r,courseids:i})};return Object(u.jsxs)("div",{children:[0!==s.length&&Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:Object(u.jsx)("input",{type:"checkbox",name:"master",onChange:a})}),Object(u.jsx)("th",{children:"Code"}),Object(u.jsx)("th",{children:"Title"}),Object(u.jsx)("th",{children:"CrHr"})]})}),Object(u.jsx)("tbody",{children:s.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.regs.includes(t.courseid)?"":Object(u.jsx)("input",{type:"checkbox",name:"courseid",value:t.courseid,onChange:a,checked:e.courseids.includes(t.courseid)})}),Object(u.jsx)("td",{children:t.code}),Object(u.jsx)("td",{style:{width:"400px"},children:t.title}),Object(u.jsx)("td",{children:t.crhr})]},t.courseid)}))})]}),0!==j.length&&Object(u.jsx)("button",{onClick:e.addRegistrations,children:"Register"})]})},O=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("table",{children:Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Regno : "}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"regno",onKeyPress:function(t){13===t.which&&(o.a.get("/api/students/".concat(t.target.value)).then((function(t){e.getStudent(t.data),console.log(t.data)})),o.a.get("/api/registrations/".concat(t.target.value)).then((function(t){e.setRegistrations(t.data)})))}})})]})})}),Object(u.jsx)("br",{}),0!==Object.keys(e.student).length&&Object(u.jsx)("table",{children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Name : "}),Object(u.jsx)("td",{children:e.student.studentname})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Father : "}),Object(u.jsx)("td",{children:e.student.fathername})]})]})})]})},x=function(){var e=Object(n.useState)({}),t=Object(d.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(0),i=Object(d.a)(r,2),a=i[0],x=i[1],g=Object(n.useState)([]),f=Object(d.a)(g,2),p=f[0],m=f[1],v=Object(n.useState)([]),S=Object(d.a)(v,2),y=S[0],C=S[1],N=Object(n.useState)(0),k=Object(d.a)(N,2),R=k[0],F=k[1],E=function(e){var t=e.regs,c=e.gpa;C(t),F(void 0!==c?c.gpa:0)};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"col",children:[Object(u.jsx)(O,{getStudent:function(e){s(e),x(0),m([]),F(0)},student:c,setRegistrations:E}),Object(u.jsx)("br",{}),0!==Object.keys(c).length&&Object(u.jsx)(l,{getSemester:function(e){x(e)},semno:a}),Object(u.jsx)("br",{}),0!==a&&Object(u.jsx)(h,{semester:a,getCourseIds:function(e){if("master"===e.name)m(e.courseids);else{var t=Object(j.a)(p),c=t.indexOf(Number(e.value));-1===c?t.push(Number(e.value)):t.splice(c,1),m(t)}},courseids:p,addRegistrations:function(){o.a.post("/api/registrations/add",{regno:c.regno,courseids:JSON.stringify(p)}).then((function(e){m([]),o.a.get("/api/registrations/".concat(c.regno)).then((function(e){E(e.data)}))}))},regs:y.map((function(e){return e.courseid}))})]}),Object(u.jsx)("div",{className:"col",children:0!==y.length&&Object(u.jsx)(b,{regs:y,setRegistrations:E,student:c,gpa:R})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("pre",{children:JSON.stringify({student:c,semester:a,courseids:p,regs:y},null,2)})})]})};var g=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(x,{})})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,44)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root")),f()}},[[43,1,2]]]);
//# sourceMappingURL=main.dbc596ac.chunk.js.map